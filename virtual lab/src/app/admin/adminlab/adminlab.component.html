
<div class="container">
    <div class="row">
        <div class='col-md-4'><h3>{{labName}} </h3></div>
      
        <div class='col-md-2'>
            <button (click)="labDetails()" class='btn btn-primary'>lab details</button>
        </div>
        <div class='col-md-2'>
            <button (click) = "saveLab()" class='btn btn-primary' >Save Lab</button>
        </div>
        <div class='col-md-2'>
            <button (click) = "deleteLab()" class='btn btn-primary'>Delete Lab</button>
        </div>
        <div class='col-md-2'>
            <button (click) = "backButton()" class='btn btn-primary'>Back</button>
        </div>
    </div>
</div>

<!-- <ul>
    <li><h3>{{labName}} lab Name: </h3></li>
    <li>  <button (click)="labDetails()" class='btn btn-primary'>lab details</button> </li>
    <li>  <button (click) = "saveLab()" class='btn btn-primary' >Save Lab</button> </li>
    <li>  <button (click) = "deleteLab()" class='btn btn-primary'>Delete Lab</button> </li>
    <li>  <button (click) = "backButton()" class='btn btn-primary'>Back</button> </li>
</ul> -->

<div class="container card">
    <div class="navigation">
        <h3>{{labName}} </h3>
        <button (click)="labDetails()" class='btn btn-primary'>lab details</button>
        <button (click) = "saveLab()" class='btn btn-primary' >Save Lab</button>
        <button (click) = "deleteLab()" class='btn btn-primary'>Delete Lab</button>
        <button (click) = "backButton()" class='btn btn-primary'>Back</button>
    </div>
    <pm-analytics></pm-analytics>
        <div class="row">
            <div class="col-md-6">
                <div *ngIf="isNewNode">
                    <div>
                        <label *ngIf='!invalidInput' for="nodename">Enter Node name</label>
                        <label *ngIf='invalidInput'  style="color:red" for="nodename">Invalid input try again</label>
                        <label class="node-major-label" for="nodename">Enter Node name</label>
                        <input maxlength="15"
                               [(ngModel)]="nodeName"
                               type='text'
                               id="nodename"
                               placeholder='New Node Name' />
                        <button class='btn btn-primary'
                                (click)="addNewNode()">Add New Node</button>
                    </div>
                    <pm-nodelist  [labId]="labId" [labName]="labName" (nodeNameEvent) = "nodeNameMessage($event)"(nodeIdEvent) =  "nodeIdMessage($event)"></pm-nodelist>
                </div>
                <div *ngIf="!isNewNode">
                    <div class="row">
                        <h3>Node Name: {{nodeName}}</h3>
                        <button class='btn btn-primary'
                                (click)="nodeBackButton()">back</button>
                    </div>

                    <div class="card">
                        <div class="card">
                            <h1>(Node number)</h1>
                            <textarea name="nodeDesc" id="nodeDesc" cols="30" rows="5"></textarea>
                            <button (click)="onClickDesc">Edit</button>
                    
                        </div>
                        <div class="card">
                            <div class="card">
                                <h2>Behavior</h2>
                                <select [(ngModel)]="nodeType">
                                    <option *ngFor="let behavior of nodeBehaviors" [ngValue]="behavior" value=behavior>{{ behavior }}</option>
                                </select>
                            </div>
                    
                            <!--This is where the appropriate behavior node will be loaded-->
                            <div *ngIf="nodeType === 'Matching'">
                                <matching-node></matching-node>
                            </div>
                            <div *ngIf="nodeType === 'Play video'">
                                <video-node></video-node>
                            </div>
                            <div *ngIf="nodeType === 'Perform experiment'">
                                <experiment-node></experiment-node>
                            </div>
                            <div  *ngIf="nodeType === 'Question / Answer'">
                                <quiz-node [nodeId] = "nodeId" [labId]="labId" [labName]="labName" [nodeName]="nodeName" ></quiz-node>
                            </div>
                            
                            <div class="card">
                                <h2>Outgoing nodes:</h2>
                                <!--Populate with list of outgoing nodes-->
                            </div>
                        </div>
                    </div>
                    <!-- <tree-node></tree-node> -->
                <div class="node-section" *ngIf="!isNewNode">
                    <div class="node-row">
                        <div class="node-column">
                            <!-- <h3>Node Name: {{nodeName}}</h3> -->
                            <label class="node-major-label" for="nodeNameEdit">Node Name:</label>
                            <input maxlength="15"
                                    type='text'
                                    id="nodeNameEdit"
                                    value="(load current name)">
                        </div>
                        <button class="btn btn-primary"
                                    (click)="nodeBackButton()">Back</button>
                    </div>
                    <hr>
                    <tree-node></tree-node>
                </div>
            </div>
            <div class="col-md-6">
                <pm-admintreepane></pm-admintreepane>
            </div>
        </div>
    
</div>

<!-- example:
<div *ngFor="let user of reply">
        
    <h4 class="card-title">{{ user.title | uppercase}}</h4>
    <small> <strong>Name: </strong> {{ user.name }}</small>
    <p>{{ user.body }}</p>

</div>

<p>{{reply}}</p> -->
